<!DOCTYPE html>
<html>
  <head>
    <script src="https://unpkg.com/peerjs@1.4.4/dist/peerjs.min.js"></script>
    <script>
      var name = prompt("Channel?");
      console.log("Opening connection to:", name);

      var peer = new Peer();
      peer.on('open', function() {
        console.log("# peer open");
        console.log(arguments);
      });
      peer.on('close', function() {
        console.log("# peer close");
        console.log(arguments);
      });
      peer.on('disconnected', function() {
        console.log("# peer disconnected");
        console.log(arguments);
      });
      peer.on('error', function() {
        console.log("# peer error");
        console.log(arguments);
      });

      var conn = peer.connect(name);
      conn.on('data', function(data) {
        console.log('# conn data');
        console.log(arguments);
        console.log(data);
      });
      conn.on('open', function() {
        console.log('# conn open');
        console.log(arguments);
      });
      conn.on('error', function() {
        console.log('# conn error');
        console.log(arguments);
      });
    </script>
  </head>
  <body>
    <h1>This is the real chat client</h1> 
  </body>
</html>
